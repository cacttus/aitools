#Info 

* Scripts for SD and a GPUART server

* NOTE This runs in a python VENV and installing with basic pip and via linux cmd wont work
  * VSCode can detect a venv automatically on run after installing the Python extensions
  * Manual run:
    * source ./bashutils.sh && start_venv
  * after that, your shell should have a prompt like this 
  * (.venv) user@user:~/git/aitools$ 
* requirements.txt is the install and its generated by
  * pip freeze > ./requirements.txt

================================================================
                    AI tools/scripts  
================================================================
Usage
./run.sh sd
./run.sh sd.py
./run.sh webscraper

* aitest project
  * sudo apt install python3-tk
  * run aitest.sh in terminal and then run aitest.py (interactive)

* sdui- with multiple gpu separate instance + gpu status tool

*  Gpu Info tool
  ![screenshot](https://github.com/cacttus/gpustatus.sh/blob/master/image.png?raw=true)

# 
# SETUP NOTES FOR LAMP - LINUX MINT / DEBIAN
# 
================================================================
                         GPUART 
================================================================
===================== 
APACHE2 SETUP 
=====================
* https://www.digitalocean.com/community/tutorials/how-to-install-the-apache-web-server-on-ubuntu-20-04
sudo apt install apache2
Website located in 
/var/www/html
sudo systemctl start apache2
sudo systemctl stop apache2
sudo systemctl restart apache2
sudo systemctl status apache2
================
* WEBSITE
The web root is /var/www/html.
You can get information about the PHP installation by logging into the Droplet and running php -i.
================
* NOTE: HOW TO CHANGE ROOT DIR FROM var/www
* CHANGE DOCUMENTROOT in default.conf
/etc/apache2/sites-available/000-default.conf
DocumentRoot /var/www/html
* CHANGE Directory in APACHE2CONF
/etc/apache2/apache2.conf
<Directory /var/www/html/>
Options Indexes FollowSymLinks
AllowOverride None
Require all granted
</Directory>

=====================  
PHP SETUP 
=====================
apt install php-common libapache2-mod-php php-cli
/etc/php/8.1/apache2/php.ini
/etc/php/8.1/cli/php.ini
* The logs for apache are set in the httpd.conf file.
* And the logs for PHP (if any) are set in the php.ini file.
* EDIT PHP INI AND UNCOMMENT
error_log = /var/log/php_errors.log
log_errors = On
* Create logfile and enable permissions
sudo touch php_error.log
sudo touch /var/log/php_error.log
sudo chmod 777 /var/log/php_error.log
* Tail the log to watch
tail -f /var/log/php_error.log

===================== 
MYSQL SETUP 
=====================
* LOCATE MYSQL CONFIG
/etc/mysql/mysql.conf.d/mysqld.cnf
* SET BIND ADDR 0 
bind-address = 0.0.0.0
* RESTART MYSQL
sudo systemctl restart mysql
* NOW CREATE NEW USER THAT CAN ACCESS IT AND SET ITS IP ADDR 
CREATE USER 'sammy'@'remote_server_ip' IDENTIFIED BY 'password';
* LEGACY VERSION OF ABOVE
CREATE USER 'sammy'@'remote_server_ip' IDENTIFIED WITH mysql_native_password BY 'password';
* GRANT PRIVILEGES TO USER
GRANT CREATE, ALTER, DROP, INSERT, UPDATE, DELETE, SELECT, REFERENCES, RELOAD on *.* TO 'sammy'@'remote_server_ip' WITH GRANT OPTION;
FLUSH PRIVILEGES;
* OPEN FIREWALL FOR MYSQL
sudo ufw allow from remote_IP_address to any port 3306
change remote ip address
ufw allow 3306
* THIS ALLOWS EVERYONE IN
mysql -u user -h database_server_ip -p ** test it out
mysql -u bogerton -p -h 64.23.165.65 GPU_COMPUTE

* MYSQL for Python3 pymysql - two ways to install?
* NOTE: MAKE SURE YOURE NOT USING A VENV or else run the VENV
sudo apt install python3-pymysql
apt install python3-pip
pip install pymysql

================
* NOTE: MYSQL FORGOT OR CHANGE ROOT PASS
/etc/mysql/mysql.conf.d
sudo chmod 777 mysql.conf.d
* ADD skip-grant-tables under [MySql] ** 
sudo service mysql restart
* LOGIN 
mysql -u root
FLUSH PRIVILEGES;
ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'MyNewPass';
* REMOVE skip-grant-tables from config
sudo chmod 0444 mysql.conf.d
================
* NOTE:MYSQL GRANT FILE USED TO FOR LOAD_FILE to upload images you need LOAD_FILE
GRANT FILE ON *.* TO 'root'@'localhost';
FLUSH PRIVILEGES;
max_allowed_packet in mysqld.cnf
https://stackoverflow.com/questions/24459149/mysql-load-file-returns-null
* NOW MAKE THE WWW DIRECTORY WRITABLE AND READABLE BY MYSQL
sudo chmod -R a+rwx /var/www *** TRhis seems to work
sudo chgrp -R www-data /var/www
sudo chmod -R g+w /var/www
sudo find /var/www -type d -exec chmod 2775 {} \;  
sudo find /var/www -type f -exec chmod ug+rw {} \;
* RUN SQL FILE
source \home\user\Desktop\test.sql;

